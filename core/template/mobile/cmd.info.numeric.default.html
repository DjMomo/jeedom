<script type="text/javascript" src="3rdparty/justGage/justgage.1.0.1.min.js" ></script>
<script type="text/javascript" src="3rdparty/justGage/raphael.2.1.0.min.js" ></script>

<span class="info" cmd_id="#id#" style="width:180px;height: 140px;" >
    <div style="width:180px; height:140px;display: inline-block;" class="#class#" cmd_id="#id#" >
        <div style="width:125px; height:120px;">
            <div id="cmd#id#"></div>
        </div>
        <a href="#tooltipsCmd#id#" data-rel="popup" data-transition="pop" class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext"></a>
        <span class="collectDate" style="width:140px;font-size: 0.85em; #displayHistory#">
            <span>#minHistoryValue#</span>|<span>#averageHistoryValue#</span>|<span>#maxHistoryValue#</span> <i class="#tendance#"></i>
        </span><br/>

        <div data-role="popup" id="tooltipsCmd#id#" class="ui-content" data-theme="a" style="max-width:350px;">
            #collectDate#
        </div>
    </div>
</span>

<script>
    $(document).ready(function () {
    if (('#state#' != '' && is_numeric('#state#'))){
    var value = '#state#';
            new JustGage({
    id: "cmd#id#",
            value: value,
            min: #minValue#,
            max: #maxValue#,
            title: "#name#",
            label: "#unite#",
            decimals : 1,
            humanFriendly  : true,
            startAnimationTime:1
    });
    } else{
    $('#cmd#id#').append('<span class="label label-danger">#state#</span>');
    }
    });
</script>